<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Y-lib: LoadRunner Utils of Ylib</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Y-lib
   </div>
   <div id="projectbrief">Loadrunner libraries</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">LoadRunner Utils of Ylib</div>  </div>
</div><!--header-->
<div class="contents">

<p>Collection of miscellaneous support functions.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga5d8d307cc6497d0ae26051c7b5272adf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loadrunner__utils.html#ga5d8d307cc6497d0ae26051c7b5272adf">y_breadcrumb_reset</a>()&#160;&#160;&#160;lr_save_string(&quot;&quot;, &quot;breadcrumb&quot;)</td></tr>
<tr class="memdesc:ga5d8d307cc6497d0ae26051c7b5272adf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the breadcrumb Use this macro to start a new breadcrumb or to reset an existing one.  <a href="#ga5d8d307cc6497d0ae26051c7b5272adf">More...</a><br /></td></tr>
<tr class="separator:ga5d8d307cc6497d0ae26051c7b5272adf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2ae0566b5b75ef7dd6d6f1706e92c066"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loadrunner__utils.html#ga2ae0566b5b75ef7dd6d6f1706e92c066">y_delay_once</a>(delay_in_seconds)          </td></tr>
<tr class="memdesc:ga2ae0566b5b75ef7dd6d6f1706e92c066"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delay for delay_in_seconds seconds, once. This macro will put the code to sleep for the specified amount of seconds, but only the first time the current position in the code is reached. If you use this in more than one place each of the calls will sleep exactly once.  <a href="#ga2ae0566b5b75ef7dd6d6f1706e92c066">More...</a><br /></td></tr>
<tr class="separator:ga2ae0566b5b75ef7dd6d6f1706e92c066"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga4ad4afc7aabf4e2fcc7752ba227ae226"><td class="memItemLeft" align="right" valign="top">static unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loadrunner__utils.html#ga4ad4afc7aabf4e2fcc7752ba227ae226">y_hash_sdbm</a> (char *str)</td></tr>
<tr class="memdesc:ga4ad4afc7aabf4e2fcc7752ba227ae226"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a hash of string input.  <a href="#ga4ad4afc7aabf4e2fcc7752ba227ae226">More...</a><br /></td></tr>
<tr class="separator:ga4ad4afc7aabf4e2fcc7752ba227ae226"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae983b9ef76c2dac577cd9bb17920b6ea"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loadrunner__utils.html#gae983b9ef76c2dac577cd9bb17920b6ea">y_rand_in_sliding_window</a> (int lowerbound, int upperbound, int rand_max)</td></tr>
<tr class="memdesc:gae983b9ef76c2dac577cd9bb17920b6ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate random number and test if it lies between 2 given boundaries.  <a href="#gae983b9ef76c2dac577cd9bb17920b6ea">More...</a><br /></td></tr>
<tr class="separator:gae983b9ef76c2dac577cd9bb17920b6ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa50b7745f6d186a97d1dc21eebf52bb3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loadrunner__utils.html#gaa50b7745f6d186a97d1dc21eebf52bb3">y_rand_between</a> (int lowerbound, int upperbound)</td></tr>
<tr class="memdesc:gaa50b7745f6d186a97d1dc21eebf52bb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a random number between two boundaries. (the boundaries are included!)  <a href="#gaa50b7745f6d186a97d1dc21eebf52bb3">More...</a><br /></td></tr>
<tr class="separator:gaa50b7745f6d186a97d1dc21eebf52bb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga14010a877f5f12712afd4bfa0a713b3e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loadrunner__utils.html#ga14010a877f5f12712afd4bfa0a713b3e">y_save_attribute_to_parameter</a> (char *attrib, char *param)</td></tr>
<tr class="memdesc:ga14010a877f5f12712afd4bfa0a713b3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch attribute from vUser's command line and store it in a parameter. This will fetch an attribute from the vUser's command line (as set in the scenario or in runtime settings as additional attributes) and stores it in the given parameter.  <a href="#ga14010a877f5f12712afd4bfa0a713b3e">More...</a><br /></td></tr>
<tr class="separator:ga14010a877f5f12712afd4bfa0a713b3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac6a1eabced0bcf489cb9afc93a881852"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loadrunner__utils.html#gac6a1eabced0bcf489cb9afc93a881852">y_save_attribute</a> (char *param)</td></tr>
<tr class="memdesc:gac6a1eabced0bcf489cb9afc93a881852"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch attribute from vUser's command lin and store it in a parameter of the same name. This will fetch an attribute from the vUser's command line (as set in the scenario or in runtime settings (addition attributes)) and stores it in a parameter of the same name. This function is a shortcut to <a class="el" href="group__loadrunner__utils.html#ga14010a877f5f12712afd4bfa0a713b3e" title="Fetch attribute from vUser&#39;s command line and store it in a parameter. This will fetch an attribute f...">y_save_attribute_to_parameter()</a>  <a href="#gac6a1eabced0bcf489cb9afc93a881852">More...</a><br /></td></tr>
<tr class="separator:gac6a1eabced0bcf489cb9afc93a881852"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab3671570eefb1129ab15401916c07b05"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loadrunner__utils.html#gab3671570eefb1129ab15401916c07b05">y_log_rendezvous_result</a> (int result)</td></tr>
<tr class="memdesc:gab3671570eefb1129ab15401916c07b05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process the result code of lr_rendezvous() call to log human readable errors.  <a href="#gab3671570eefb1129ab15401916c07b05">More...</a><br /></td></tr>
<tr class="separator:gab3671570eefb1129ab15401916c07b05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2c0e016c236c66f5ce29ec6cf26c258f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loadrunner__utils.html#ga2c0e016c236c66f5ce29ec6cf26c258f">y_breadcrumb</a> (char *breadcrumb)</td></tr>
<tr class="memdesc:ga2c0e016c236c66f5ce29ec6cf26c258f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Keep track of the steps in the script.  <a href="#ga2c0e016c236c66f5ce29ec6cf26c258f">More...</a><br /></td></tr>
<tr class="separator:ga2c0e016c236c66f5ce29ec6cf26c258f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1975c6dcb009fd4ebc670efa3805bf3c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loadrunner__utils.html#ga1975c6dcb009fd4ebc670efa3805bf3c">y_write_to_file</a> (char *filename, char *content)</td></tr>
<tr class="memdesc:ga1975c6dcb009fd4ebc670efa3805bf3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a string to a file.  <a href="#ga1975c6dcb009fd4ebc670efa3805bf3c">More...</a><br /></td></tr>
<tr class="separator:ga1975c6dcb009fd4ebc670efa3805bf3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga09a5167c980ec4de95cf198c320c179e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loadrunner__utils.html#ga09a5167c980ec4de95cf198c320c179e">y_write_parameter_to_file</a> (char *filename, char *content_parameter)</td></tr>
<tr class="memdesc:ga09a5167c980ec4de95cf198c320c179e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the content of a parameter to a file.  <a href="#ga09a5167c980ec4de95cf198c320c179e">More...</a><br /></td></tr>
<tr class="separator:ga09a5167c980ec4de95cf198c320c179e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7841e4b695b3dbae20f9d9276eecc07a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loadrunner__utils.html#ga7841e4b695b3dbae20f9d9276eecc07a">y_datetime</a> ()</td></tr>
<tr class="memdesc:ga7841e4b695b3dbae20f9d9276eecc07a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves the current date/time into a LR-parameter.  <a href="#ga7841e4b695b3dbae20f9d9276eecc07a">More...</a><br /></td></tr>
<tr class="separator:ga7841e4b695b3dbae20f9d9276eecc07a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafa6f1aa6d2647d9f58308c1864bd9eb6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loadrunner__utils.html#gafa6f1aa6d2647d9f58308c1864bd9eb6">y_workdays_from_today</a> (int workdays)</td></tr>
<tr class="memdesc:gafa6f1aa6d2647d9f58308c1864bd9eb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the difference in days between today and X workdays into the future.  <a href="#gafa6f1aa6d2647d9f58308c1864bd9eb6">More...</a><br /></td></tr>
<tr class="separator:gafa6f1aa6d2647d9f58308c1864bd9eb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaded70e9c2f8fff3e8015e5f54cbc1c30"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loadrunner__utils.html#gaded70e9c2f8fff3e8015e5f54cbc1c30">y_get_disk_space</a> (const char *folder_name, double *available, double *total)</td></tr>
<tr class="memdesc:gaded70e9c2f8fff3e8015e5f54cbc1c30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the free disk space on the target folder on the load generator.  <a href="#gaded70e9c2f8fff3e8015e5f54cbc1c30">More...</a><br /></td></tr>
<tr class="separator:gaded70e9c2f8fff3e8015e5f54cbc1c30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae654a05e25d0f5477caa15301a4e278c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loadrunner__utils.html#gae654a05e25d0f5477caa15301a4e278c">y_get_free_disk_space_in_mebibytes</a> (const char *folder_name)</td></tr>
<tr class="memdesc:gae654a05e25d0f5477caa15301a4e278c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the amount of free disk space in the target folder in mebibytes (SI unit)  <a href="#gae654a05e25d0f5477caa15301a4e278c">More...</a><br /></td></tr>
<tr class="separator:gae654a05e25d0f5477caa15301a4e278c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab41dd2018d6f14f318dfae6b75d5a7a2"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loadrunner__utils.html#gab41dd2018d6f14f318dfae6b75d5a7a2">y_get_free_disk_space_percentage</a> (const char *folder_name)</td></tr>
<tr class="memdesc:gab41dd2018d6f14f318dfae6b75d5a7a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the free disk space percentage on the target folder on the load generator.  <a href="#gab41dd2018d6f14f318dfae6b75d5a7a2">More...</a><br /></td></tr>
<tr class="separator:gab41dd2018d6f14f318dfae6b75d5a7a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaec8d4aac19ec5f0a24d82f261a300b51"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loadrunner__utils.html#gaec8d4aac19ec5f0a24d82f261a300b51">y_read_file_into_parameter</a> (char *filename, char *param)</td></tr>
<tr class="memdesc:gaec8d4aac19ec5f0a24d82f261a300b51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the contents of a file into a single parameter.  <a href="#gaec8d4aac19ec5f0a24d82f261a300b51">More...</a><br /></td></tr>
<tr class="separator:gaec8d4aac19ec5f0a24d82f261a300b51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga192a83f87c6d0c63de76432ac985bfcc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loadrunner__utils.html#ga192a83f87c6d0c63de76432ac985bfcc">y_user_data_point</a> (char *param)</td></tr>
<tr class="memdesc:ga192a83f87c6d0c63de76432ac985bfcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a user data point for a parameter.  <a href="#ga192a83f87c6d0c63de76432ac985bfcc">More...</a><br /></td></tr>
<tr class="separator:ga192a83f87c6d0c63de76432ac985bfcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga17b08587d9d4bead3865b4778bda878b"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loadrunner__utils.html#ga17b08587d9d4bead3865b4778bda878b">y_get_current_time</a> ()</td></tr>
<tr class="memdesc:ga17b08587d9d4bead3865b4778bda878b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current time in seconds since 1970, as a double.  <a href="#ga17b08587d9d4bead3865b4778bda878b">More...</a><br /></td></tr>
<tr class="separator:ga17b08587d9d4bead3865b4778bda878b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5064e6f0187a332841c80df8aa79bbdc"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loadrunner__utils.html#ga5064e6f0187a332841c80df8aa79bbdc">y_delay_until</a> (double timestamp)</td></tr>
<tr class="memdesc:ga5064e6f0187a332841c80df8aa79bbdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delay until a certain time.  <a href="#ga5064e6f0187a332841c80df8aa79bbdc">More...</a><br /></td></tr>
<tr class="separator:ga5064e6f0187a332841c80df8aa79bbdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3625eb1e8e509e2cf64132ed4b17d4d5"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loadrunner__utils.html#ga3625eb1e8e509e2cf64132ed4b17d4d5">y_think_time_for_rampup_ext</a> (int rampup_period, double TPS_initial, double TPS_max, int virtual_users)</td></tr>
<tr class="memdesc:ga3625eb1e8e509e2cf64132ed4b17d4d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ramp up the load by using varying amounts of think time instead of virtual users.  <a href="#ga3625eb1e8e509e2cf64132ed4b17d4d5">More...</a><br /></td></tr>
<tr class="separator:ga3625eb1e8e509e2cf64132ed4b17d4d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga123bd2be5b33b914a321e11a7122dba6"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loadrunner__utils.html#ga123bd2be5b33b914a321e11a7122dba6">y_think_time_for_rampup</a> (const int rampup_period, double TPS_max)</td></tr>
<tr class="memdesc:ga123bd2be5b33b914a321e11a7122dba6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ramp up the load by using varying amounts of think time instead of virtual users. For simulating situations with limited amounts of connections on the client side.  <a href="#ga123bd2be5b33b914a321e11a7122dba6">More...</a><br /></td></tr>
<tr class="separator:ga123bd2be5b33b914a321e11a7122dba6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa6724943ea9deafd1a035fd2957774bf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loadrunner__utils.html#gaa6724943ea9deafd1a035fd2957774bf">y_execute_shell_command</a> (char *command, int debug)</td></tr>
<tr class="memdesc:gaa6724943ea9deafd1a035fd2957774bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute a windows shell command Implements proper error checking.  <a href="#gaa6724943ea9deafd1a035fd2957774bf">More...</a><br /></td></tr>
<tr class="separator:gaa6724943ea9deafd1a035fd2957774bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabe608ed84cb017342f34c8d76aee5e77"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loadrunner__utils.html#gabe608ed84cb017342f34c8d76aee5e77">y_errorcheck</a> (int ok)</td></tr>
<tr class="memdesc:gabe608ed84cb017342f34c8d76aee5e77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Errorflood guard. Also known as "the error check".  <a href="#gabe608ed84cb017342f34c8d76aee5e77">More...</a><br /></td></tr>
<tr class="separator:gabe608ed84cb017342f34c8d76aee5e77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa68ee32c2b3d448990fbd3d27f950f5e"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loadrunner__utils.html#gaa68ee32c2b3d448990fbd3d27f950f5e">y_pace</a> (double pacing_time_in_seconds)</td></tr>
<tr class="memdesc:gaa68ee32c2b3d448990fbd3d27f950f5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Improved implementation of loadrunner pacing.  <a href="#gaa68ee32c2b3d448990fbd3d27f950f5e">More...</a><br /></td></tr>
<tr class="separator:gaa68ee32c2b3d448990fbd3d27f950f5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga55b160bb4e144285abd1e719a0edaeab"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loadrunner__utils.html#ga55b160bb4e144285abd1e719a0edaeab">y_pace_rnd</a> (double min_pacing_time_in_seconds, double max_pacing_time_in_seconds)</td></tr>
<tr class="memdesc:ga55b160bb4e144285abd1e719a0edaeab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Improved implementation of loadrunner pacing - with semirandomized pacing.  <a href="#ga55b160bb4e144285abd1e719a0edaeab">More...</a><br /></td></tr>
<tr class="separator:ga55b160bb4e144285abd1e719a0edaeab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Collection of miscellaneous support functions. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga5d8d307cc6497d0ae26051c7b5272adf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define y_breadcrumb_reset</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;lr_save_string(&quot;&quot;, &quot;breadcrumb&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets the breadcrumb Use this macro to start a new breadcrumb or to reset an existing one. </p>
<dl class="section author"><dt>Author</dt><dd>Raymond de Jongh </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__loadrunner__utils.html#ga2c0e016c236c66f5ce29ec6cf26c258f" title="Keep track of the steps in the script. ">y_breadcrumb()</a> </dd></dl>

<p>Definition at line <a class="el" href="y__loadrunner__utils_8c_source.html#l00307">307</a> of file <a class="el" href="y__loadrunner__utils_8c_source.html">y_loadrunner_utils.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga2ae0566b5b75ef7dd6d6f1706e92c066"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define y_delay_once</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">delay_in_seconds</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                              \</div><div class="line">    static <span class="keywordtype">int</span> delay_done = 0;                 \</div><div class="line">                                               \</div><div class="line">    if( !delay_done )                          \</div><div class="line">    {                                          \</div><div class="line">        delay_done = 1;                        \</div><div class="line">        lr_force_think_time(delay_in_seconds); \</div><div class="line">    }                                          \</div><div class="line">}</div></div><!-- fragment -->
<p>Delay for delay_in_seconds seconds, once. This macro will put the code to sleep for the specified amount of seconds, but only the first time the current position in the code is reached. If you use this in more than one place each of the calls will sleep exactly once. </p>
<p>The particular usecase this was made for is a case where users need to register themselves prior to the actual test run. We want to seperate this registration period from the actual rampup, so when each user finishes registering we want a delay. But, we only want it once, and we will only know that we're done registering when we hit the regular load path for the first time.</p>
<p>Hence: delay_once</p>
<p>This is a macro because a function call would make it impossible to use this more than once in a script - it would execute the delay the first time this function is called, independent of where it was called <em>from</em>. Which would be rather counterintuitive. </p><dl class="section author"><dt>Author</dt><dd>Floris Kraak </dd></dl>

<p>Definition at line <a class="el" href="y__loadrunner__utils_8c_source.html#l00768">768</a> of file <a class="el" href="y__loadrunner__utils_8c_source.html">y_loadrunner_utils.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga2c0e016c236c66f5ce29ec6cf26c258f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void y_breadcrumb </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>breadcrumb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Keep track of the steps in the script. </p>
<p>Adds (another) string (read: step) to the LR-parameter {breadcrumb} Use this to keep track of the steps taken by the script. Very useful if you have a script which does things in a random order and you want to know (in the end) which order it actually used. You can, of course, write this to a (log)file. Don't forget to use <a class="el" href="group__loadrunner__utils.html#ga5d8d307cc6497d0ae26051c7b5272adf" title="Resets the breadcrumb Use this macro to start a new breadcrumb or to reset an existing one...">y_breadcrumb_reset()</a> to clear the parameter at the start of the script. (else you end up with a very long breadcrumb (breadstick?).)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">breadcrumb</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>LR parameter {breadcrumb} <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;y_breadcrumb_reset();    // clean the breadcrumb-variable. (previous data in {breadcrumb} is deleted.</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;y_breadcrumb(&quot;start&quot;);</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;// .... some code....</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;y_breadcrumb(&quot;processing data&quot;)</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;//... some code ....</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;y_breadcrumb(&quot;finished&quot;)</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;The result is that {breadcrumb} contains &quot;start;processing data;finished&quot;   </div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__loadrunner__utils.html#ga5d8d307cc6497d0ae26051c7b5272adf" title="Resets the breadcrumb Use this macro to start a new breadcrumb or to reset an existing one...">y_breadcrumb_reset()</a> </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Raymond de Jongh </dd></dl>

<p>Definition at line <a class="el" href="y__loadrunner__utils_8c_source.html#l00283">283</a> of file <a class="el" href="y__loadrunner__utils_8c_source.html">y_loadrunner_utils.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga7841e4b695b3dbae20f9d9276eecc07a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void y_datetime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves the current date/time into a LR-parameter. </p>
<p>Stores the current date/time into LR-parameter {DATE_TIME_STRING} in this format:<br />
YYYYMMDD,HHMMSS (yes, separated by a comma.) </p><dl class="section return"><dt>Returns</dt><dd>current date/time into LR-parameter {DATE_TIME_STRING}.</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000003">Deprecated:</a></b></dt><dd></dd></dl>
<dl class="section note"><dt>Note</dt><dd>This doesn't add much. People should be able to call lr_save_datetime() themselves, right? Putting it on the deprecation list for that reason. <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;y_datetime();</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;lr_message(&quot;Current date/time: %s&quot;, lr_eval_string(&quot;{DATE_TIME_STRING}&quot;));</div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__loadrunner__utils.html#ga17b08587d9d4bead3865b4778bda878b" title="Get the current time in seconds since 1970, as a double. ">y_get_current_time()</a> </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Raymond de Jongh </dd></dl>

<p>Definition at line <a class="el" href="y__loadrunner__utils_8c_source.html#l00442">442</a> of file <a class="el" href="y__loadrunner__utils_8c_source.html">y_loadrunner_utils.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga5064e6f0187a332841c80df8aa79bbdc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double y_delay_until </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>timestamp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delay until a certain time. </p>
<dl class="section return"><dt>Returns</dt><dd>the amount of time waited, in seconds.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Floris Kraak </dd></dl>

<p>Definition at line <a class="el" href="y__loadrunner__utils_8c_source.html#l00739">739</a> of file <a class="el" href="y__loadrunner__utils_8c_source.html">y_loadrunner_utils.c</a>.</p>

</div>
</div>
<a class="anchor" id="gabe608ed84cb017342f34c8d76aee5e77"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int y_errorcheck </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ok</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Errorflood guard. Also known as "the error check". </p>
<p>Prevent error floods by inserting forced thinktime at the start of the iteration if too many successive iterations fail.</p>
<p>Sometimes very long running tests suffer from disruptions halfway through, caused by silly things like backups. In such a situation all users will temporarily fail, causing a sudden flood of log messages on the generator. Keeping the load 'stable' at that stage may also prevent the back-end from coming back up normally after the original disruption has ended. Plus, if the system <em>stays</em> down keeping the full load on it will only cause the generator's log storage to overflow.</p>
<p>Hence this piece of guarding code that will detect such problems inside the virtual user and temporarily lower the load on the system under test until the situation returns to normal (or the test stops).</p>
<p><b>Usage:</b> </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;y_errorcheck(0);  // Marks the start of the iteration, this will insert a forced delay or an abort at this point if too many failed successive iterations occurred.</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;y_errorcheck(1);  // Marks the end of the iteration as successful. Resets the error counter.</div></div><!-- fragment --><p>Three virtual user command line attributes are used to control this functionality:</p><ul>
<li>-errorcheck_enabled: 0 or 1; If set to 1 or used as a flag, error flood checking is performed. Otherwise, it is disabled. Default off (0).</li>
<li>-errorcheck_limit x[/y]: How many iteration failures are allowed before intervening. <br />
 x is the amount of failed iterations before forcibly pausing the virtual user. Default 10 iterations. <br />
 y (optional) is the amount of failed iterations before aborting. Default off (-1).</li>
<li>-errorcheck_pause_time [mm:]ss: The amount of time to pause if the floodguard fires. Default 15:00 or 900 (15 minutes).</li>
</ul>
<p>Use this in the command line setting in a test scenario. The 'Additional attributes' in the Run-Time settings allows you the set your own defaults in the script.</p>
<p>For example: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;-errorcheck_enabled -errorcheck_limit 10/20 -errorcheck_pause_time 5:00</div></div><!-- fragment --><p> This will force an extra pacing of 5 minutes after 10 successive failed iterations and aborts after 20 successive failed iterations.</p>
<dl class="section warning"><dt>Warning</dt><dd>the "errorcheck_enabled" attribute must be set to a positive integer number for this code to do anything!</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The forced pause ignores runtime thinktime settings. </dd>
<dd>
This will call <a class="el" href="group__loadrunner__utils.html#gaa68ee32c2b3d448990fbd3d27f950f5e" title="Improved implementation of loadrunner pacing. ">y_pace()</a> using the enforced pausing time to make sure it's internal administration doesn't get confused.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ok</td><td>Start/end iteration marker. Must be set to 0 at the start of the iteration, and 1 at the end of the iteration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>André Luyer, Floris Kraak </dd></dl>

<p>Definition at line <a class="el" href="y__loadrunner__utils_8c_source.html#l01028">1028</a> of file <a class="el" href="y__loadrunner__utils_8c_source.html">y_loadrunner_utils.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaa6724943ea9deafd1a035fd2957774bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">y_execute_shell_command </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute a windows shell command Implements proper error checking. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>Fix the memory allocation to provide for commands that result in more than 10Kb of output.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">command</td><td>A windows shell command, as passed to CMD.exe </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">debug</td><td>If zero, log the first line; Otherwise, log full command output. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Sander van Wanrooij, Floris Kraak </dd></dl>

<p>Definition at line <a class="el" href="y__loadrunner__utils_8c_source.html#l00916">916</a> of file <a class="el" href="y__loadrunner__utils_8c_source.html">y_loadrunner_utils.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga17b08587d9d4bead3865b4778bda878b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double y_get_current_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current time in seconds since 1970, as a double. </p>
<dl class="section return"><dt>Returns</dt><dd>The current time in seconds since 1970-01-01 00:00 UTC </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Floris Kraak </dd></dl>

<p>Definition at line <a class="el" href="y__loadrunner__utils_8c_source.html#l00726">726</a> of file <a class="el" href="y__loadrunner__utils_8c_source.html">y_loadrunner_utils.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaded70e9c2f8fff3e8015e5f54cbc1c30"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void y_get_disk_space </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>folder_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>available</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>total</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the free disk space on the target folder on the load generator. </p>
<p>In order to prevent loadrunner logs from filling up disks on the generator beyond capacity we need to know how much free space the log file system has. This function retrieves information about the amount of space that is available on a disk volume, which is the total amount of space and the total amount of free space available to the vuser.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">folder_name</td><td>The name of the folder to report on. If this parameter is NULL, the function uses the root of the current disk. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">available</td><td>The total number of free bytes on a disk that are available to the vuser </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">total</td><td>The total number of bytes on a disk that are available to the vuser</td></tr>
  </table>
  </dd>
</dl>
<p>Both parameters available and total may by NULL when not required. If per-user quotas are being used, the value(s) may be less than the total number of (free) bytes on a disk. The value of 0 is returned on error (e.g. no access to disk).</p>
<dl class="section remark"><dt>Remarks</dt><dd>Completely rewritten. The 16 TiB limit is lifted.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>André Luyer </dd></dl>

<p>Definition at line <a class="el" href="y__loadrunner__utils_8c_source.html#l00542">542</a> of file <a class="el" href="y__loadrunner__utils_8c_source.html">y_loadrunner_utils.c</a>.</p>

</div>
</div>
<a class="anchor" id="gae654a05e25d0f5477caa15301a4e278c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double y_get_free_disk_space_in_mebibytes </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>folder_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the amount of free disk space in the target folder in mebibytes (SI unit) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">folder_name</td><td>The name of the folder to report on. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The amount of mebibytes free, as a double.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function is a wrapper around <a class="el" href="group__loadrunner__utils.html#gaded70e9c2f8fff3e8015e5f54cbc1c30" title="Get the free disk space on the target folder on the load generator. ">y_get_disk_space</a> for backwards compatibility </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__loadrunner__utils.html#gaded70e9c2f8fff3e8015e5f54cbc1c30" title="Get the free disk space on the target folder on the load generator. ">y_get_disk_space()</a> </dd></dl>
<dl class="section author"><dt>Author</dt><dd>André Luyer </dd></dl>

<p>Definition at line <a class="el" href="y__loadrunner__utils_8c_source.html#l00604">604</a> of file <a class="el" href="y__loadrunner__utils_8c_source.html">y_loadrunner_utils.c</a>.</p>

</div>
</div>
<a class="anchor" id="gab41dd2018d6f14f318dfae6b75d5a7a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double y_get_free_disk_space_percentage </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>folder_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the free disk space percentage on the target folder on the load generator. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">folder_name</td><td>The name of the folder to report on.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The percentage of free space, as a double.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function is a wrapper around <a class="el" href="group__loadrunner__utils.html#gaded70e9c2f8fff3e8015e5f54cbc1c30" title="Get the free disk space on the target folder on the load generator. ">y_get_disk_space</a> for backwards compatibility </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__loadrunner__utils.html#gaded70e9c2f8fff3e8015e5f54cbc1c30" title="Get the free disk space on the target folder on the load generator. ">y_get_disk_space()</a> </dd></dl>
<dl class="section author"><dt>Author</dt><dd>André Luyer </dd></dl>

<p>Definition at line <a class="el" href="y__loadrunner__utils_8c_source.html#l00623">623</a> of file <a class="el" href="y__loadrunner__utils_8c_source.html">y_loadrunner_utils.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga4ad4afc7aabf4e2fcc7752ba227ae226"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long y_hash_sdbm </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a hash of string input. </p>
<p>A fairly simple hash that can be used to compare long input texts with each other. This uses the sdbm algorithm, described at <a href="http://www.cse.yorku.ca/~oz/hash.html">http://www.cse.yorku.ca/~oz/hash.html</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">str</td><td>The string to create a hash from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a href="http://www.cse.yorku.ca/~oz/hash.html">http://www.cse.yorku.ca/~oz/hash.html</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>hash (unsigned long) </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Floris Kraak </dd></dl>

<p>Definition at line <a class="el" href="y__loadrunner__utils_8c_source.html#l00057">57</a> of file <a class="el" href="y__loadrunner__utils_8c_source.html">y_loadrunner_utils.c</a>.</p>

</div>
</div>
<a class="anchor" id="gab3671570eefb1129ab15401916c07b05"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void y_log_rendezvous_result </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>result</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process the result code of lr_rendezvous() call to log human readable errors. </p>
<p>When calling lr_rendezvous() the result code indicates the end state of the rendezvous. This function will translate the codes into human readable errors which are then logged as normal.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">result</td><td>code from lr_rendezvous() </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;{</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    int result = lr_rendezvous(&quot;03_Portefeuille&quot;);</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    y_start_transaction(&quot;Rendezvous_me&quot;);</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    // Perform the transaction in question.</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    y_end_transaction(&quot;&quot;, LR_AUTO);</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    y_log_rendezvous_result(result);</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;}</div></div><!-- fragment --> </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Floris Kraak </dd></dl>

<p>Definition at line <a class="el" href="y__loadrunner__utils_8c_source.html#l00223">223</a> of file <a class="el" href="y__loadrunner__utils_8c_source.html">y_loadrunner_utils.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaa68ee32c2b3d448990fbd3d27f950f5e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double y_pace </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>pacing_time_in_seconds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Improved implementation of loadrunner pacing. </p>
<p>Normal loadrunner pacing (as set by runtime settings) does not really deal with situations in which increases in response time cause the iteration to exceed it's normal pacing settings. If you set a pacing of 60 seconds, and the script takes 180 seconds to execute one iteration, the next iteration will still be 60 seconds - meaning the script will have executed at best 2 iterations in 240 seconds - putting only half the load on the target system, quite probably not something that was intended.</p>
<p>In order to mitigate this we can do two things:</p><ul>
<li>Measure how much time iterations take, and produce warnings (error transactions) when this time is exceeded (which is what <a class="el" href="y__transaction_8c.html#abd287dfea8faf750b4d920143c52382a">y_session_timer_start()</a> and <a class="el" href="y__transaction_8c.html#ac289d4eaf281d5e75ca629f602625ad7">y_session_timer_end()</a> in <a class="el" href="y__transaction_8c.html" title="ylib transaction library. ">y_transaction.c</a> do; or</li>
<li>Do the pacing ourselves, by taking into account how much time has passed since the script started and compensating for overruns by reducing pacing accordingly.</li>
</ul>
<p>This function implements the latter method.</p>
<p>The way that this works is simple: First, it measures how much time passed since the first time it was called. Then it compares that to a running total of how much time <em>should</em> have passed since that time. If this more time should have passed than has actually passed, it will force a thinktime equal to the gap. Finally, it takes the pacing time argument that was passed in (in seconds, as a double, so fractions of a second are allowed) as an argument, and adds that to the running total of how much time should have passed - to be used the next time around.</p>
<dl class="section warning"><dt>Warning</dt><dd>This was designed to be put this at the <em>beginning</em> of each iteration. <em>Not</em> the end. If you put this function anywhere in the iteration after requests started being performed any errors will cause the iteration to abort and the running total to get schewed - it will be as if there was no iteration at all. The next time around it will seem that the iteration took even longer ..</dd></dl>
<dl class="section note"><dt>Note</dt><dd>One thing other tools do to deal with this (notably gatling) is ramping up more users. This works as well .. but it's not the panacea certain proponents of this method claim it is. Notably, these users will have to start fresh at the beginning of their clickflow (/path) resulting in more load in the steps leading up to the slower steps. Real users may just hit F5, though ..</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd><a class="el" href="group__loadrunner__utils.html#ga123bd2be5b33b914a321e11a7122dba6" title="Ramp up the load by using varying amounts of think time instead of virtual users. For simulating situ...">y_think_time_for_rampup()</a>, <a class="el" href="group__loadrunner__utils.html#gabe608ed84cb017342f34c8d76aee5e77" title="Errorflood guard. Also known as &quot;the error check&quot;. ">y_errorcheck()</a>, <a class="el" href="y__transaction_8c.html#abd287dfea8faf750b4d920143c52382a">y_session_timer_start()</a>, and <a class="el" href="y__transaction_8c.html#ac289d4eaf281d5e75ca629f602625ad7">y_session_timer_end()</a> all implement closely related functionality. If you use this please think carefully about how these functions interact with each other.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This will create a user datapoint called y_pacing_time that can be used for monitoring the calculations during the test.</dd></dl>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Action()</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;{</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    y_pace(5); // Call this at the *beginning* of each iteration. See the documentation as for why.</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    if( y_rand() % 10 &lt; 3 )</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    {</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;        lr_log_message(&quot;Haha!&quot;);</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;        lr_force_think_time(10);</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    }</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    return;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;}</div></div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pacing_time_in_seconds</td><td>- average pacing time. It is recommended this number is kept constant unless you know exactly what you're doing.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Floris Kraak </dd></dl>

<p>Definition at line <a class="el" href="y__loadrunner__utils_8c_source.html#l01149">1149</a> of file <a class="el" href="y__loadrunner__utils_8c_source.html">y_loadrunner_utils.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga55b160bb4e144285abd1e719a0edaeab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double y_pace_rnd </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>min_pacing_time_in_seconds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_pacing_time_in_seconds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Improved implementation of loadrunner pacing - with semirandomized pacing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">min_pacing_time_in_seconds</td><td>- minimum pacing time. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_pacing_time_in_seconds</td><td>- maximum pacing time.</td></tr>
  </table>
  </dd>
</dl>
<p>A random value between these minimum and maximum is chosen using <a class="el" href="group__core.html#ga319710d6642f34a8ea51a1a9898869fc" title="Generate a random number between 0 &lt;= y_drand() &lt; 1. This supersedes y_rand().  Equal to Math...">y_drand()</a> and used to call <a class="el" href="group__loadrunner__utils.html#gaa68ee32c2b3d448990fbd3d27f950f5e" title="Improved implementation of loadrunner pacing. ">y_pace()</a>.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__loadrunner__utils.html#gaa68ee32c2b3d448990fbd3d27f950f5e" title="Improved implementation of loadrunner pacing. ">y_pace()</a></dd></dl>
<dl class="section author"><dt>Author</dt><dd>Floris Kraak </dd></dl>

<p>Definition at line <a class="el" href="y__loadrunner__utils_8c_source.html#l01189">1189</a> of file <a class="el" href="y__loadrunner__utils_8c_source.html">y_loadrunner_utils.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaa50b7745f6d186a97d1dc21eebf52bb3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int y_rand_between </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lowerbound</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>upperbound</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a random number between two boundaries. (the boundaries are included!) </p>
<p>When the lower boundary equals the upper boundary, <a class="el" href="group__loadrunner__utils.html#gaa50b7745f6d186a97d1dc21eebf52bb3" title="Create a random number between two boundaries. (the boundaries are included!) ">y_rand_between()</a> simply returns the lower boundary. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lowerbound</td><td>Lower boundary of the generated number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">upperbound</td><td>Upper boundary of the generated number </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>random number</dd></dl>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;int random;        </div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;random = y_rand_between(0, 10);        // generate a random number between 0 and 10 (including 0 and 10!)</div></div><!-- fragment --> <dl class="section see"><dt>See also</dt><dd><a class="el" href="group__core.html#ga0419985b32761cce3f5d75e6aad36f05" title="Generate a random (integer) number between 0 and Y_RAND_MAX (30 bit maxint). ">y_rand()</a> </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Floris Kraak </dd></dl>

<p>Definition at line <a class="el" href="y__loadrunner__utils_8c_source.html#l00137">137</a> of file <a class="el" href="y__loadrunner__utils_8c_source.html">y_loadrunner_utils.c</a>.</p>

</div>
</div>
<a class="anchor" id="gae983b9ef76c2dac577cd9bb17920b6ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int y_rand_in_sliding_window </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lowerbound</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>upperbound</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rand_max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate random number and test if it lies between 2 given boundaries. </p>
<p>This will generate a random number between (and including) 0 and rand_max, and tell us if that number lies between the lower and upper bounds or not. Boundaries are included!</p>
<p>This is useful for pathing decisions: Say that at point P in a script a choice has to be made between continuing with actions A, B, and C. The decision is made based on a percentage: A = 10% chance, B = 50% chance, C = 40% chance. This function was written to support the code that would make this decision.</p>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="y__flow__list_8c.html" title="Business logic / clickflow support. ">y_flow_list.c</a> provides a better and more intuitive alternative for this one. For that reason, we are likely to remove it in the near future.</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000002">Deprecated:</a></b></dt><dd></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lowerbound</td><td>Minumum value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">upperbound</td><td>Maximum value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rand_max</td><td>Upper boundary of the random number </td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Floris Kraak </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>0: no, random number lies outside the boundaries<br />
 1: yes, random number lies inside the boundaries<br />
 &lt;0: input made no sense. <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;y_rand_in_sliding_window(1, 10, 20); // Returns 1 if the random number rolled is 4, and 0 if the random number was 11.</div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__core.html#ga0419985b32761cce3f5d75e6aad36f05" title="Generate a random (integer) number between 0 and Y_RAND_MAX (30 bit maxint). ">y_rand()</a>, <a class="el" href="y__flow__list_8c.html" title="Business logic / clickflow support. ">y_flow_list.c</a> </dd></dl>

<p>Definition at line <a class="el" href="y__loadrunner__utils_8c_source.html#l00099">99</a> of file <a class="el" href="y__loadrunner__utils_8c_source.html">y_loadrunner_utils.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaec8d4aac19ec5f0a24d82f261a300b51"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int y_read_file_into_parameter </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the contents of a file into a single parameter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>The name of the file to read (relative to script root, or full path) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">param</td><td>The name of the parameter to store the file contents in. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes read from the file, or -1 if the file could not be read (but in that case it will also call lr_abort().)</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The size of the file is stored in a parameter named "y_size_{param}", where {param} is the name of the parameter you passed in.</dd></dl>
<p>This can be used in various situations; For example, situations where you have a template file that you wish to use for various requests. For instance, when all communications are based on a simple XML submit with slightly different (parameterised) contents.</p>
<dl class="section note"><dt>Note</dt><dd>If the file cannot be opened this will call lr_abort().</dd></dl>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;vuser_init()</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;{</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    // File contains: &lt;xml&gt;&lt;customer_element&gt;{customer_id}&lt;/customer_element&gt;&lt;/xml&gt;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    y_read_file_into_parameter(&quot;template.xml&quot;, &quot;template_content&quot;);</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;}</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;projectname_some_request_transaction()</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;{</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;   // double evaluation evaluates the customer id, giving you the request body.</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;   lr_save_string(lr_eval_string(lr_eval_string(&quot;{template_content}&quot;)), &quot;request_body&quot;);</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;   y_start_transaction(&quot;some_request&quot;);</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;   web_custom_request(&quot;some_request&quot;, </div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;        &quot;URL=http://{Host}/some/request/v1/&quot;, </div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;        &quot;Method=POST&quot;, &quot;Resource=0&quot;, </div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;        &quot;Body={request_body}&quot;,</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;        &quot;EncType=text/xml; charset=utf-8&quot;,</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;        LAST);   </div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;   y_end_transaction(&quot;&quot;, LR_AUTO);</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;}</div></div><!-- fragment --> <dl class="section author"><dt>Author</dt><dd>Floris Kraak </dd></dl>

<p>Definition at line <a class="el" href="y__loadrunner__utils_8c_source.html#l00670">670</a> of file <a class="el" href="y__loadrunner__utils_8c_source.html">y_loadrunner_utils.c</a>.</p>

</div>
</div>
<a class="anchor" id="gac6a1eabced0bcf489cb9afc93a881852"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int y_save_attribute </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>param</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetch attribute from vUser's command lin and store it in a parameter of the same name. This will fetch an attribute from the vUser's command line (as set in the scenario or in runtime settings (addition attributes)) and stores it in a parameter of the same name. This function is a shortcut to <a class="el" href="group__loadrunner__utils.html#ga14010a877f5f12712afd4bfa0a713b3e" title="Fetch attribute from vUser&#39;s command line and store it in a parameter. This will fetch an attribute f...">y_save_attribute_to_parameter()</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">param</td><td>argument name of both the attribute and the parameter the value should be stored in. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the attribute exists, -1 if it doesn't, in which case no value is stored in the parameter.</dd></dl>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;y_save_attribute(&quot;server&quot;);</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;web_add_auto_filter(&quot;Action=Include&quot;, &quot;HostSuffix={server}&quot;, LAST );</div></div><!-- fragment --> <dl class="section see"><dt>See also</dt><dd><a class="el" href="group__loadrunner__utils.html#ga14010a877f5f12712afd4bfa0a713b3e" title="Fetch attribute from vUser&#39;s command line and store it in a parameter. This will fetch an attribute f...">y_save_attribute_to_parameter()</a> </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Floris Kraak </dd></dl>

<p>Definition at line <a class="el" href="y__loadrunner__utils_8c_source.html#l00194">194</a> of file <a class="el" href="y__loadrunner__utils_8c_source.html">y_loadrunner_utils.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga14010a877f5f12712afd4bfa0a713b3e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int y_save_attribute_to_parameter </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>attrib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetch attribute from vUser's command line and store it in a parameter. This will fetch an attribute from the vUser's command line (as set in the scenario or in runtime settings as additional attributes) and stores it in the given parameter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">attrib</td><td>Attribute name. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">param</td><td>LR parameter name in which the argument value is stored. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the attribute exists, -1 if it doesn't, in which case no value is stored in the parameter.</dd></dl>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;y_save_attribute_to_parameter(&quot;server&quot;, &quot;nice_server&quot;);</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;web_add_auto_filter(&quot;Action=Include&quot;, &quot;HostSuffix={nice_server}&quot;, LAST );</div></div><!-- fragment --> <dl class="section see"><dt>See also</dt><dd><a class="el" href="group__loadrunner__utils.html#gac6a1eabced0bcf489cb9afc93a881852" title="Fetch attribute from vUser&#39;s command lin and store it in a parameter of the same name. This will fetch an attribute from the vUser&#39;s command line (as set in the scenario or in runtime settings (addition attributes)) and stores it in a parameter of the same name. This function is a shortcut to y_save_attribute_to_parameter() ">y_save_attribute()</a> </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Floris Kraak </dd></dl>

<p>Definition at line <a class="el" href="y__loadrunner__utils_8c_source.html#l00163">163</a> of file <a class="el" href="y__loadrunner__utils_8c_source.html">y_loadrunner_utils.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga123bd2be5b33b914a321e11a7122dba6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double y_think_time_for_rampup </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>rampup_period</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>TPS_max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ramp up the load by using varying amounts of think time instead of virtual users. For simulating situations with limited amounts of connections on the client side. </p>
<p>As <a class="el" href="group__loadrunner__utils.html#ga3625eb1e8e509e2cf64132ed4b17d4d5" title="Ramp up the load by using varying amounts of think time instead of virtual users. ...">y_think_time_for_rampup_ext()</a>, assuming 1 virtual user and an initial target load of 0.1 TPS (the defaults. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__loadrunner__utils.html#ga3625eb1e8e509e2cf64132ed4b17d4d5" title="Ramp up the load by using varying amounts of think time instead of virtual users. ...">y_think_time_for_rampup_ext()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rampup_period</td><td>How long the rampup should take, in seconds. Default 1800 seconds. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">TPS_max</td><td>End rampup with this many transactions / sec in total per virtual user. Default 10. This cannot go higher than 1/average response time - when think time reaches zero. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Floris Kraak </dd></dl>

<p>Definition at line <a class="el" href="y__loadrunner__utils_8c_source.html#l00897">897</a> of file <a class="el" href="y__loadrunner__utils_8c_source.html">y_loadrunner_utils.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga3625eb1e8e509e2cf64132ed4b17d4d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double y_think_time_for_rampup_ext </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rampup_period</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>TPS_initial</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>TPS_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>virtual_users</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ramp up the load by using varying amounts of think time instead of virtual users. </p>
<p>This can be used for simulating situations with limited amounts of connections on the client side. In such a case we cannot use regular vuser based rampups, so instead we have to gradually lower the thinktime to get a similar effect. This implements a "think time" function that will use responsetime calculations and a TPS target to simulate such a ramp up.</p>
<p>Base formula: TT = threads/TPS(target) - response time</p>
<p>This will be increasing TPS linearly until rampup_period has passed, unless either think time reaches zero or TPS_max is reached. Note that "response time" is actually "time passed since the previous call to this function". This includes wasted time.</p>
<p>For best effect, call this once in vuser_init and once for each transaction. The recommended practice is to overload lr_think_time() with your own version that calls this (or <a class="el" href="group__loadrunner__utils.html#ga123bd2be5b33b914a321e11a7122dba6" title="Ramp up the load by using varying amounts of think time instead of virtual users. For simulating situ...">y_think_time_for_rampup()</a>) every time, like so:</p>
<dl class="section note"><dt>Note</dt><dd>This will create a user datapoint called y_thinktime that can be used for monitoring the calculations during the test.</dd></dl>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// Call this instead of lr_think_time(), before each transaction.</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;void my_think_time()</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;{ </div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    y_think_time_for_rampup(1800, 10); // delays for a variable amount of time depending on target load.</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;}</div></div><!-- fragment --><dl class="section warning"><dt>Warning</dt><dd>The actual load achieved is highly dependant on what pacing settings, thinktimes, and calls are used. This assumes you only have one transaction after each call to this function, and that each call uses the same parameters.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The first 3% of the rampup period uses think times calculated as if 3% of the rampup has passed. This is prevents extremely long think times from occurring.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rampup_period</td><td>How long the rampup should take, in seconds. Default 1800 seconds. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">TPS_initial</td><td>Start rampup with this many transactions / sec for this transaction, across all virtual users. Default 0,1 TPS. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">TPS_max</td><td>End rampup with this many transactions / sec in total per virtual user. Default 10. This cannot go higher than 1/average response time - when think time reaches zero. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">virtual_users</td><td>How many virtual users the script is using. If you use "1", you can just use TPS / virtual user for the initial target TPS. Default 1.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Do not set TPS_initial lower than 0,1 or the calculated think times may get really large.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Floris Kraak </dd></dl>

<p>Definition at line <a class="el" href="y__loadrunner__utils_8c_source.html#l00820">820</a> of file <a class="el" href="y__loadrunner__utils_8c_source.html">y_loadrunner_utils.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga192a83f87c6d0c63de76432ac985bfcc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void y_user_data_point </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>param</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a user data point for a parameter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">param</td><td>The name of a parameter containing an integer or floating point number.</td></tr>
  </table>
  </dd>
</dl>
<p>The name of the parameter will be the name of the datapoint that was created.</p>
<p><b>Example</b> </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;lr_save_int(1, &quot;one&quot;);</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;y_user_data_point(&quot;one&quot;); // Creates a datapoint named &quot;one&quot;, containing a value of 1.</div></div><!-- fragment --> <dl class="section see"><dt>See also</dt><dd>lr_user_data_point() </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Floris Kraak </dd></dl>

<p>Definition at line <a class="el" href="y__loadrunner__utils_8c_source.html#l00717">717</a> of file <a class="el" href="y__loadrunner__utils_8c_source.html">y_loadrunner_utils.c</a>.</p>

</div>
</div>
<a class="anchor" id="gafa6f1aa6d2647d9f58308c1864bd9eb6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int y_workdays_from_today </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>workdays</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the difference in days between today and X workdays into the future. </p>
<p>Calculate the difference in days between today and a date X workdays into the future. </p><dl class="section return"><dt>Returns</dt><dd>How many days into the future X workdays will be.</dd></dl>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// Reserve a meeting room in &#39;reservationOffset&#39; days.</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;int daysOffSet = y_workdays_from_today( atoi(lr_eval_string(&quot;{reservationOffset}&quot;)) );</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;lr_save_datetime(&quot;%d-%m-%Y&quot;, DATE_NOW + (daysOffSet*ONE_DAY), &quot;ReservationDate&quot;);</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;lr_vuser_status_message(lr_eval_string(&quot;Running with offset {reservationOffset} at day offset %d&quot;), daysOffSet);</div></div><!-- fragment --> <dl class="section author"><dt>Author</dt><dd>Floris Kraak </dd></dl>

<p>Definition at line <a class="el" href="y__loadrunner__utils_8c_source.html#l00466">466</a> of file <a class="el" href="y__loadrunner__utils_8c_source.html">y_loadrunner_utils.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga09a5167c980ec4de95cf198c320c179e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int y_write_parameter_to_file </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>content_parameter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write the content of a parameter to a file. </p>
<p>Write the content of a parameter to a file. Creates the file if it doesn't exist. Appends to an existing file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>Name of the file in which the content is saved. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">content_parameter</td><td>The name of the parameter to be saved. No checking is done - if this doesn't exist, it will just write {content_parameter} or something to your file! </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Negative number in case of an error, zero otherwise.</dd></dl>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;int result;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;y_save_string(&quot;a very long string including newlines, null bytes, what have you&quot;, &quot;content_parameter&quot;);</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;result=y_write_parameter_to_file(&quot;c:\\temp.txt&quot;, &quot;content_parameter&quot;);</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;if (result != 0)</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;{   // o dear, something went wrong!</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;}</div></div><!-- fragment --> <dl class="section author"><dt>Author</dt><dd>André Luyer, Floris Kraak </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__loadrunner__utils.html#ga1975c6dcb009fd4ebc670efa3805bf3c" title="Write a string to a file. ">y_write_to_file()</a>, y_read_parameter_from_file() </dd></dl>

<p>Definition at line <a class="el" href="y__loadrunner__utils_8c_source.html#l00374">374</a> of file <a class="el" href="y__loadrunner__utils_8c_source.html">y_loadrunner_utils.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga1975c6dcb009fd4ebc670efa3805bf3c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int y_write_to_file </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>content</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a string to a file. </p>
<p>Write a string to a file. Creates the file if it doesn't exist. Appends to an existing file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>Name of the file in which the content is saved. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">content</td><td>String which is saved into the file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Negative number in case of an error, zero otherwise.</dd></dl>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;int result;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;result=y_write_to_file(&quot;c:\\temp.txt&quot;, &quot;This is a test&quot;);</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;if (result != 0)</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;{   // o dear, something went wrong!</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;}</div></div><!-- fragment --> <dl class="section author"><dt>Author</dt><dd>Raymond de Jongh </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__loadrunner__utils.html#ga09a5167c980ec4de95cf198c320c179e" title="Write the content of a parameter to a file. ">y_write_parameter_to_file()</a> </dd></dl>

<p>Definition at line <a class="el" href="y__loadrunner__utils_8c_source.html#l00330">330</a> of file <a class="el" href="y__loadrunner__utils_8c_source.html">y_loadrunner_utils.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
